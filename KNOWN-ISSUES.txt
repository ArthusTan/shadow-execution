
Global variables: arrays and structs.
String constants (see string.c).
Loading struct pointer (struct-return, ls).
Alloca creating bit failing (size returned is zero). To reproduce: sum.bc.
Unimplemented interpretation for instructions such as landingpad. It does not happen to execute because it is executed only in the case of an exception.  
DONE: Upgrade to LLVM 3.3.
DONE: New bitcode utilities with clang 3.3.
DONE: Function pointers. 
DONE: Intrinsic functions with side effects (e.g., llvm.copy) 
DONE: Modelling phi instruction 

KNOW ISSUES:
  Padding make concrete and shadow memory model inconsistent.

TESTING:
  Checking at store
  Checking for branch divergence
  TODO:
    Model printf to check stdout
  COMMENT: 
    We also have syncing at load

TODO:
review bitwise operators.
printing operators makes it very helpful.
comparison fixing.
	   why would pwd go through?
checking for divergence.
how to compare two utilities.
output and logging info.
ptrtoint.
check in example (example + foo).
re-run everything.

CORE UTILITIES (53/100).

During interpretation:
==============

Failed assertion in Load (13)
   ./chown.out root temp.txt
./chgrp.out staff /usr/local
    ./dircolors.out
   	 ./ln.out -s list.txt list.txt.2 
    ./mknod.out temp.txt b 12 5 (failed assert in load)
   ./paste.out list.txt list.txt	
   ./tsort.out list.txt (failed assert in load)
    ./vdir.out
    ./ls.out
   ./shred.out list.txt
    ./join.out list.txt list.txt
   id
   ./du.out -h

Failed assertion at getelement_struct (2)
   fmt list.txt (in getelementptr struct/from a global value)
    ./sort.out list.txt (constant pointer)

Mismatch at store (8)
   ./csplit.out -f xyz list.txt 11 72 98
    ./dirname.out /usr/local
   mktemp testingXXX
   ./realpath.out -L list.txt
   address will never match)
        uptime
   ./ptx.out list.txt
   ./expr.out  linux : lin


PTRTOINT (3)
  ./shuf.out list.txt (ptrtoint, expected mismatch because pointer
    ./comm.out list.txt list.txt
    ./date.out 


Failed assertion at return struct (3)
    ./pr.out list.txt
    ./sleep.out 2
    ./timeout.out 1 sleep 10; date



During instrumentation:
===================
All failing when verifying the same function: Running pass 'Module
Verifier' on function '@vasnprintf
coreutils/lib/vasnprintf.c

Broken module (11)
   ./df.out -h (seg fault)
   ./factor.out 8 (not instrumented)
   ./install.out -b list.txt backup.txt (***PASSES)
   ./numfmt 2 (*** PASSES)
   ./mkdir.out hola (mismatch at store)
   ./printf.out "%s" hello (unhandled type)
   ./seq.out 2 (unhandled type)
   ./stat.out list.txt (unhandled type)
   ./stdbuf.out (*** PASSES)
   ./stty.out (getelement_struct)
   ./who.out (getelement_struct)

Failed assertion at getGlobalIndex (1)
   od


Passing (53)
=======
   ./base64.out list.txt (getelementptr_array of global variable)
   basename list.txt   
   cat list.txt
   ./chmod.out +x temp.txt (unhandled type?) 
   chroot
   /.chcon.out -R --type=ssh_home_t
    ./cut.out -c2 list.txt
    ./dir.out
   echo
   ./env.out
   false --version
   ./fold.out -5 list.txt
   hostid
   link list.txt link.txt
   logname
   mkfifo temp (it creates a file...)
   ./mv.out list.txt out.txt
   ./numfmt 2 (*** PASSES)
   nice
   nproc
    ./nohup.out time (or nohup)
   pwd
   readlink
   ./rmdir.out hello (where hello is a directory)
    ./rm.out list.txt 
   runcon
   ./split.out -b 22 list.txt list
   ./stdbuf.out (*** PASSES)
    sum list.txt
   sync
   tee (usage: ls | ./tee.out out)
    ./tail -10 list.txt
    ./touch.out out.txt
   ./true.out --version
    ./tty.out
   whoami
    ./uname.out
    ./expand.out list.txt
   ./unexpand.out list.txt
   ./uniq.out list.txt
  ./unlink.out list.txt
   wc list.txt
    ./kill.out pid
    ./truncate.out -s 5 list.txt  
    ./sha1sum.out list.txt 
    ./sha224sum.out list.txt 
    ./sha256sum.out list.txt 
    ./sha384sum.out list.txt 
    ./sha512sum.out list.txt
   ./cksum.out list.txt
    ./cp.out list.txt temp.txt
    md5sum list.txt
   ./install.out -b list.txt backup.txt (***PASSES)


Latest run on 1/20/2014.

=== 45 programs ===

[SUCCESSFULLY RUNNING COMMAND]: ./base64.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./cat.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./echo.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./env.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./hostid.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./logname.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./nproc.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./pwd.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./sum.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./sync.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./true.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./tty.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./uname.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./expand.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./unexpand.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./unlink.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./wc.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./cksum.out with error code: 0
[SUCCESSFULLY RUNNING COMMAND]: ./chroot.out with error code: 125
[SUCCESSFULLY RUNNING COMMAND]: ./stdbuf.out with error code: 125
[SUCCESSFULLY RUNNING COMMAND]: ./chcon.out with error code: 1
[SUCCESSFULLY RUNNING COMMAND]: ./false.out with error code: 1
[SUCCESSFULLY RUNNING COMMAND]: ./readlink.out with error code: 1
[SUCCESSFULLY RUNNING COMMAND]: ./nice.out with error code: -11
[SUCCESSFULLY RUNNING COMMAND]: ./runcon.out with error code: -11
[SUCCESSFULLY RUNNING COMMAND]: ./split.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./rmdir.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./fold.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./cut.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./touch.out with error code: -11
[SUCCESSFULLY RUNNING COMMAND]: ./whoami.out with error code: -11
[SUCCESSFULLY RUNNING COMMAND]: ./uniq.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./truncate.out with error code: -11
[SUCCESSFULLY RUNNING COMMAND]: ./numfmt.out with error code: -11
[SUCCESSFULLY RUNNING COMMAND]: ./mkfifo.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./nohup.out with error code: -11
[SUCCESSFULLY RUNNING COMMAND]: ./link.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./mv.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./basename.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./install.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./cp.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./rm.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./md5sum.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./sha1sum.out with error code: 5
[SUCCESSFULLY RUNNING COMMAND]: ./sha224sum.out with error code: 5


=== FAILING: 5 programs === 
[FAILED RUNNING COMMAND]: ./chmod.out with error code: 5  
[FAILED RUNNING COMMAND]: ./dir.out with error code: 5 
[FAILED RUNNING COMMAND]: ./sha256sum.out with error code: 5 [FAILED DURING INSTRUMENTATION]
[FAILED RUNNING COMMAND]: ./sha384sum.out with error code: 5 [FAILED DURING INSTRUMENTATION]
[FAILED RUNNING COMMAND]: ./sha512sum.out with error code: 5 [FAILED DURING INSTRUMENTATION]
